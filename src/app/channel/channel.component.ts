import { Component, OnInit, Input } from '@angular/core';  import { Socket } from "../socket";  @Component({   selector: 'channel',   templateUrl: './channel.component.html',   styleUrls: ['./channel.component.scss'] })  export class ChannelComponent implements OnInit {   constructor(private socket: Socket) {}   private state: boolean = false;    @Input()   private identity: number;      public label: string = 'wesolych swiat';    ngOnInit() {     this.socket.messages       .filter(({ controllerResponse }) => controllerResponse ? controllerResponse === 'OK' : true)       .filter(({ controller }) => controller === 'ChangeState')       .filter(({ value }) => value.identity === this.identity)       .subscribe(({ controllerResponse, value }) => this.state = value.state);   }    toggleColor() {     const { identity, state } = this;      this.socket.send({       controller: 'ChangeState',       value: {         state: !state,         identity       }     });   } } 